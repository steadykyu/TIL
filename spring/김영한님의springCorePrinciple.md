## 글의 목적
김영한님의 강의를 듣고 배운 Spring이 핵심원리를 요약 정리해보자.<br>

ppt를 참고해서 읽도록 하자!
## 목차
- [강의소개](#강의소개)
- [자바 진영의 추운 겨울과 스프링의 탄생](#자바-진영의-추운-겨울과-스프링의-탄생)
- [좋은 객체 지향 프로그래밍이란](#좋은-객체-지향-프로그래밍이란)
- [좋은 객체 지향 설계의 5가지원칙(soild)](#좋은-객체-지향-설계의-5가지원칙soild)
- [객체 지향 설계와 스프링](#객체-지향-설계와-스프링)
- [참고 링크and책](#참고-링크and책)
## 강의소개
스프링이 제공하는 핵심 가치, 객체 지향 프로그래밍을 이해해보자.<br>
먼저 스프링의 탄생배경부터 알아보자.

## 자바 진영의 추운 겨울과 스프링의 탄생
> EJB

(ORM개념, 분산, 트랜잭션 등)이론도 좋지만 비용이 비쌌다.<br>
EJB 인터페이스를 설계하는 과정과 EJB에 의존적인 부분이 치명적인 단점이었다.<br>

> 두명의 개발자

로드 존슨 : EJB에 답답함을 느끼고 스프링을 제작<br>
Gavin King : EJB엔티티빈에 답답함을 느끼고, 하이버네이트를 제작 -> JPA(Java 표준이 됨)<br>

### 스프링의 역사
1. 최근 실무에는 Spring과 JPA가 메인 기술이다.
2. EJB의 문제를 지적하면서 기술 예제코드가 적힌 책 출시
3. 유겐 휠러와 얀 카로프와 함께 오픈소스 프로젝트를 시작

## 스프링이란
### 스프링의 생태계
springg.io 의 spring overview를 확인해보면 계속늘어나는중이다.<br>
핵심 필수 기술은 Framework와 Boot이다.<br>

### 스프링 프레임워크
핵심기술, 웹기술, 데이터접근 기술, 기술 통합, 테스트, 언어등 <br>
최근에는 스프링 부트를 통해 스프링 프레임 워크의 기술들을 편리하게 사용<br>

### 스프링 부트
+ 스프링을 편리하게 사용할 수 있도록 지원, 최근에는 기본으로 사용
+ 용어 설명
  + 손쉬운 빌드 구성을 위한 starter 종속성 제공 : 한 라이브러리를 설치하면 연관있는 다른 라이브러리도 가져와 준다.
  + 3rd parth 라이브러리 자동구성 : 라이브러리 버전이 호환되는지 부트가 알아서 판단해주고 가져와준다.
  + 메트릭 : 모니터링기능

### 스프링 단어
스프링 단어는 문맥에 따라 다르게 사용된다.

### 스프링 왜 만들었나요
아무리 복잡한 기술도 기술의 핵심컨셉은 단순하게 시작한다.<br>
이 컨셉에 여러가지 기술이 하나하나 붙는 것이다.<br>
핵심가치 : ***좋은 객체지향어플리케이션을 개발할수 있도록, 객체지향언어의 특징을 잘 살려내도록 해주는 프레임워크인것.***<br>

## 좋은 객체 지향 프로그래밍이란
+ 즉 ***객체***들의 모임으로 파악하고자 하는 것이다. 각각의 ***객체***는 메시지를 주고받고, 데이터를 처리할 수 있다. (***협력***)
+ 객체 지향 프로그래밍은 프로그램을 ***유연***하고 ***변경***이 용이하게 만들기 때문에 대규모 소프트웨어 개발에 많이 사용된다.
### 객체 지향 특징(추가개발교양참고)
1. 추상화
2. 캡슐화
3. 상속
4. 다형성


### 유연하고, 변경이 용이하다란
컴퓨터 부품 갈아 끼우듯이, 컴포넌트를 쉽고 유연하게 변경하면서 개발할 수 있는 방법

### 다형성
역할과 구현으로 세상을 구분<br>
운전자는 자동차역할에 알맞은 자동차를 구현만 한다면 자동차의 내부모델을 몰라도 된다. <br>
(클라이언트에 '영향을 주지 않고' 새로운 기능을 제공할 수 있다.)

### 역할과 구현을 분리
핵심은 ***클라이언트***다. 클라이언트는 역할만 알면
1. 구현 대상의 내부구조를 몰라도(차내부)
2. 구현 대상의 내부 구조가 변경 되어도(차내부변경)
3. 구현 대상 자체를 변경해도 영향을 받지않는다.(차종류변경)

### 역할과 구현을 분리(자바 언어)
우리가 다형성 공부할때 클라이언트가 보이지 않아서 신경을 쓰지 못한다. 하지만 어찌됬든 핵심은 ***클라이언트다***!!
+ 역할 = 인터페이스
+ 구현 = 인터페이스를 구현한 클래스, 객체.
+ 일반 상속도 다형성이 가능하다. 그러나 단일상속만 가능하므로, 인터페이스끼리 다중상속 받는 편이 훨씬 편하다.

### 객체의 협력이라는 관계부터 생각
+ 클라이언트: 요청, 서버: 응답
+ 수 많은 객체 클라이언트와 객체 서버는 서로 협력 관계를 가진다.(그림참고)

### 자바 언어의 다형성
+ 오버라이딩 : 상위 클래스의 메서드를 하위 클래스가 재정의 하는 것이다.
+ Jdbc객체인가 , Memory 객체인가에 따라 알맞은 메서드가 출력
+ 이때 "MemberService(클라이언트)는 MemberRepository에 의존한다(알고있다.)" 라고 한다.

### 다형성의 본질
+ 인터페이스를 구현한 객체 인스턴스를 **실행 시점**에 **유연**하게 **변경**할 수 있다.
+ 다형성의 본질을 이해하려면 **협력**이라는 객체사이의 관계에서 시작해야함
+ **클라이언트를 변경하지 않고, 서버의 구현 기능을 유연하게 변경할 수 있다.**

### 역할과 구현을 분리 정리
+ 실세계의 역할과 구현이라는 편리한 컨셉을 다형성을 통해 객체 세상으로 가져올 수 있음.
cf ) 확장 가능한 설계(무한하게확장) - Memory에서만 쓰다가 JDBC로 쓰고싶을때 갈아끼는 개념처럼 확장 가능

### 역할과 구현을 분리 한계
+ 역할(인터페이스) 자체가 변하면, 클라이언트, 서버 모두에 큰 변경이 발생한다.
+ 인터페이스를 안정적으로 잘 설계하는 것이 중요

### 스프링과 객체 지향
+ 객체지향의 꽃인 다형성을 스프링의 여러 기능들이 도와준다.
+ 스프링에서 이야기하는 제어의 역전(IoC), 의존관계 주입(DI)은 다형성을 활용해서 **역할과 구현**을 편리하게 다룰 수 있도록 지원한다

## 좋은 객체 지향 설계의 5가지원칙(SOLID)
+ SRP: 단일 책임 원칙(single responsibility principle)
+ OCP: 개방-폐쇄 원칙 (Open/closed principle)
+ LSP: 리스코프 치환 원칙 (Liskov substitution principle)
+ ISP: 인터페이스 분리 원칙 (Interface segregation principle)
+ DIP: 의존관계 역전 원칙 (Dependency inversion principle)

### SRP
+ 한 클래스는 하나의 책임만 가져야 한다. 하지만 하나의 책임은 모호하다.
+ 중요한 기준은 변경이다. 변경이 있을 때 파급 효과가 적으면 단일 책임 원칙을 잘 따른 것이다.

### OCP
+ 소프트웨어 요소는 확장에는 열려 있으나 변경에는 닫혀 있어야 한다
+ 개념으로 보면 이해가 안될수 있다. 다형성의 개념으로 이해해야한다.
+ 인터페이스를 구현한 새로운 클래스를 만드는 것은 확장이지만, 변경(원래의코드)에는 닫혀있어야 하는것이다.
> OCP 개방-폐쇄 원칙 문제점
+ 클라이언트 코드를 변경해야 한다. -> 분명 다형성을 사용했지만 OCP 원칙을 지킬 수 없다.
+ 객체를 생성하고, 연관관계를 맺어주는 별도의 조립, 설정자가 필요하다.(spring)

### LSP
+ 프로그램의 객체는 프로그램의 정확성을 깨뜨리지 않으면서 하위 타입의 인스턴스로 바꿀 수 있어야 한다.
+ 컴파일 하기전의 원칙(예시 참조)

### ISP 
+ 특정 클라이언트를 위한 인터페이스 여러 개가 범용 인터페이스 하나보다 낫다.(클라이언트 덩어리를 줄이는 것)

### DIP
+ 운전자역할은 구현된 자동차들에 의존하는 것(아는것)이 아니라, 자동차의 역할을 알아야한다. 
+ MemberService 는 MemberRepository 인터페이스에 대해서 안다(의존한다) 그런데 MemoryMemberRepository에 대해서도 안다(의존한다)
+ DIP 위반

### 정리
+ 다형성 만으로는 OCP, DIP를 지킬 수 없다. 
+ 뭔가 더 필요하다

## 객체 지향 설계와 스프링
### 스프링 이야기에 왜 객체 지향 이야기가 나올까
스프링은 다음 기술로 다형성 + OCP, DIP를 가능하게 지원<br>
+ DI(Dependency Injection): 의존관계, 의존성 주입
+ DI 컨테이너 제공
클라이언트 코드의 변경 없이 기능 확장<br>

### 스프링이 없던 시절로
+ 순수하게 자바로 OCP, DIP 원칙들을 지키면서 개발을 해보면, 결국 스프링 프레임워크를 만들게 된다. (더 정확히는 DI 컨테이너)
+ 코드로 짜서 더 자세하게 이해하자.
### 정리
+ 모든 설계에 역할과 구현을 분리하자
+ 애플리케이션 설계도 공연을 설계 하듯이 배역만 만들어두고, 배우는 언제든지 유연하게 변경할 수 있도록 만드는 것이 좋은 객체 지향 설계다.
+ 이상적으로는 모든 설계에 인터페이스를 부여하자

### 그러나 실무 고민
+ 하지만 인터페이스를 도입하면 추상화라는 비용이 발생한다.
  + 만약 runtime에 Memory를 써야할지 JDBC써야할지 고민하는 단계라고 한다면 인터페이스만으로는 알수 없다.
  + 결국 구현한 클래스안의 메서드에 들어가야하는 비용이 발생하는 것
+기능을 확장할 가능성이 없다면, 구체 클래스를 직접 사용하고, 향후 꼭 필요할 때 리팩터링해서 인터페이스를 도입하는 것도 방법이다

## 참고 링크and책
스프링 강의를 다보고 토비의 스프링을 읽고 정리하면 너무 좋다.(한두달걸림!!)
